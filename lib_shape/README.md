# Библиотека считывания геометрических фигур

## Метод сборки
Для сборки необходим CMake версии не менее 3.25, а также make.

1. Выполните в данном каталоге `cmake -B build`, чтобы сгенерировать файлы сборки;
2. В созданном каталоге выполните команду `make`.

## Описание
Здесь приложено описание каждого класса, который входит в состав данного пакета.

### Геометрические фигуры
Каждый класс наследует интерфейс `Shape`, который содержит в себе следующие методы:
1. `Draw()` &ndash; возвращает строковое представление геометрической фигуры;
2. `Perimeter()` &ndash; возвращает периметр геометрической фигуры. Для 0-мерных фигур периметр считается равным 0;
3. `Square()` &ndash; возвращает площадь геометрической фигуры. Для точки и 1-мерных фигур площадь считается равной 0.

В данной библиотеке представлено 6 геометрических фигур:
1. `Circle` &ndash; круг. Требует 3 параметра: 2D-координаты центра окружности и радиус;
2. `Line` &ndash; отрезок. Требует 4 параметра: 2D-координаты начала и конца отрезка;
3. `Point` &ndash; точка. Требует 2 параметра: 2D-координаты точки;
4. `Rect` &ndash; прямоугольник, чьи стороны параллельны любой из одной из осей координат. Требует 4 параметра: 2D-координаты противоположных углов;
5. `Rect` &ndash; ромб, чьи диагонали параллельны любой из одной из осей координат. Требует 4 параметра: 2D-координаты центра ромба
(точки пересечения диагоналей), высоту (вдоль оси Y) и ширину (вдоль оси X);
6. `Square` &ndash; квадрат, чьи стороны параллельны любой из одной из осей координат. Требует 3 параметра: 2D-координаты центра квадрата
(точки пересечения диагоналей) и длину стороны квадрата.

При этом у каждой фигуры есть требования к параметрам:
1. `Circle` &ndash; радиус должен быть положительным;
2. `Line` &ndash; точки должны иметь разные координаты. Другими словами, длина отрезка не должна быть нулевой;
3. `Point` &ndash; ограничений нет;
4. `Rect` &ndash; у точек должны различаться обе координаты, иначе получится прямоугольник с нулевой высотой или длиной;
5. `Rhomb` &ndash; высота и ширина должны быть положительными числами;
6. `Square` &ndash; длина стороны должна быть положительной.

При несоблюдении условий создания геометрических фигур будет выброшено исключение `IllegalArgumentException` с указанием того, почему параметры некорректны.

### Производители геометрических фигур
Для каждой фигуры из библиотеки есть свой класс производителя фигур, который реализовывает интерфейс `ShapeCreator` выдаёт соответствующую
фигуру по параметрам. Каждый производитель должен получить
в точности столько параметров, сколько необходимо для создания соответствующей геометрической фигуры. В противном случае будет выброшено исключение
`IllegalArgumentException`.


### Фабрика геометрических фигур
Используется для создания новых геометрических фигур по её названию и параметрам. Имеет 2 метода:
1. `addCreator(string name, ShapeCreator *creator)` &ndash; регистрирует в фабрике нового производителя фигур `creator`,
который будет вызываться по имени `name`. `creator` в фабрике оборачивается в `std::shared_ptr`, поэтому нет необходимости потом
вручную освобождать память, выделенную под него. При желании можно добавить свой класс, реализующий `ShapeCreator` и не представленный в
данной библиотеке (например, треугольник по трём точкам);
3. `createShape(string name, vector<double> parameters)` &ndash; создает указатель на геометрическую фигуру по его названию
(без учёта регистра) и параметрам. Каждая фигура оборачивается в `std::shared_ptr`, поэтому нет необходимости потом вручную освобождать память из-под объекта.
Если фигуры с таким названием не существует (не зарегистрирована в фабрике), будет выброшено исключение `ShapeNotFoundException`.

### Парсер
В библиотеке имеется парсер, который предназначен для построчного считывания данных с ввода. При успешном чтении он возвращает связку из названия
геометрической фигуры и её параметров. При попытке чтения за концом потока будет вызвано исключение `IllegalStateException`.

### Исключения
Имеется исключение `ShapeException`, который напрямую унаследован от `std::exception`. От него же унаследованы `IllegalArgumentException` и
`ShapeNotFoundException`. Такая организация исключений позволяет обрабатывать ошибки, которые могут произойти при создании геометрических фигур.
